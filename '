#include <iostream>
#include <bicycle/Personality.h>

using namespace std;
using enum ActionState;

Action a{ [](ActArg) { return SUCCESS; } { "hi" }, { "there" } };

// Now to figure out how to get references to talk directly through.
int main() {
  auto& actreg = ActionRegistry::getInstance();
  registerPortType<double>( "hi" );
  registerPortType<double>( "there" );
  registerPortType<double>( "my" );
  registerPortType<double>( "man" );
  auto cc = actreg.get( "A" );
  cc->execute();
  return 0;
}
